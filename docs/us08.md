# US08 — Controle de Versão das Regras

## 1. Objetivo
Permitir evoluir as regras de números, mensagens, grupos e fallback sem quebrar CTAs existentes. Cada versão é identificada por `MAJOR.MINOR.PATCH`.

## 2. Estrutura
- `config.rulesVersion`: versão atual aplicada aos CTAs por padrão.
- `config.supportedVersions`: lista de versões reconhecidas.
- CTA pode definir `data-rules-version="X.Y.Z"` para forçar versão específica.

## 3. Fluxo
1. Edge lê `rulesVersion` global.
2. CTA pode sobrescrever via atributo.
3. Validação verifica se a versão está em `supportedVersions`.
4. A versão escolhida alimenta seleção de números/mensagens e é propagada:
   - atributo `data-rules-version` nos CTAs reescritos.
   - comentário `<!-- rules-version: X.Y.Z -->` no HTML final.
5. Versão inválida → erro registrado → fallback (US05).

## 4. Evolução
- Acrescentar novas versões via config e lógica de seleção.
- Atualizar `supportedVersions` e documentar mudanças.
- CTA antigos podem continuar usando versões anteriores.
