# US10 — Debug Seguro

## Objetivo
Permitir depuração detalhada sem vazamento de dados sensíveis, mantendo a entrega de HTML intacta e sem afetar latência de forma relevante.

## Princípios
- **Opt-in**: logs aparecem apenas quando `config.debugMode = true`.
- **Sanitização**: nunca logar payloads completos de request/headers; permitir somente campos neutros (url, stage, status).
- **Não bloquear**: falhas em logging não devem interferir na resposta da edge.

## Formato dos logs
- Estrutura mínima: `{ message, stage, url, ok, errorMessage? }`.
- Resumo final: comentário HTML opcional com contagem de CTAs e tempos médios, somente em modo debug.

## Riscos e mitigação
- PII: evitar headers/cookies corpos. Apenas URL/estágios.
- Latência: logs simples e opcionais; podem ser desativados em produção.
